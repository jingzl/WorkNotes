# 测试指标
## 检索性能
### QPS
QPS（Queries Per Second）系统每秒可成功完成的完整请求数。压测时一般逐步加压，直到错误率跳升前的最大值即为“峰值 QPS”。QPS 告诉你“能同时喂多少用户”。

### P99延迟
P99 延迟（TP99）系统99%的请求完成时间不超过该值。99% 的请求响应时间 ≤ 该值；仅 1% 的请求比它慢。计算方式：将单次请求“首 token 到末 token”耗时排序，取 99% 分位。P99 告诉你“最倒霉的那 1% 用户有多慢”。

### 召回率
召回率（Recall）指在所有相关文档中，被检索系统成功检索出的相关文档的比例。计算方式：召回率 = 检索出的相关文档数 / 总相关文档数。对于“应返回的正确结果”，模型实际找回来的比例；Recall = TP / (TP+FN)。在信息检索、RAG、NER、分类任务中通用。召回率 决定“该给的答案有没有漏掉”。


## 生成性能
### 推理速度 
推理速度（Inference Speed），tokens/s，每秒生成token数。通常用“首 Token 延迟（TTFT）”和“Token 吞吐量（TPS）”共同描述：TTFT 衡量用户首次看到输出的等待时间；TPS=生成 token 总数 ÷ 总耗时。推理速度 决定“用户多久能看到第一个字和完整答案”。

### 响应时间 
响应时间（Response Time），ms，端到端耗时 = 客户端发出请求 → 收到最后一个 token。可拆成“首 Token 时间 + 内容生成时间 + 网络链路耗时”。响应时间 是端到端体验的总耗时。

### 答案准确率
答案准确率（Accuracy），生成结果与标准答案的匹配度。生成式任务可用人工评分、BLEU/ROUGE、基于模型的自动评分；分类任务直接用 (TP+TN)/All。准确率 决定“给的答案对不对”。





使用JMeter进行压力测试，k6模拟并发用户，Prometheus+Grafana监控系统指标